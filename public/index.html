<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport"/>
<title>kocmoc ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="css/style.css" rel="stylesheet"/>
<link href="/css/override.css" rel="stylesheet"/>
    <!-- Favicon -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
</head>
<body>
<div class="notification-container" id="notificationContainer"></div>
<!-- –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∞ -->
<div class="admin-float-btn" id="adminFloatBtn" style="display: none;">
<i class="fas fa-shield-alt"></i>
</div>
<!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
<div class="auth-container" id="authContainer">
<div class="auth-box">
<div class="auth-logo">
<i class="fas fa-comment-dots"></i>
<span>kocmoc</span>
</div>
<div class="auth-tabs">
<button class="auth-tab active" data-tab="login">–í—Ö–æ–¥</button>
<button class="auth-tab" data-tab="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
</div>
<form class="auth-form active" id="loginForm">
<div class="form-group">
<label for="loginEmail">Email</label>
<input id="loginEmail" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email" required="" type="email"/>
</div>
<div class="form-group">
<label for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
<input id="loginPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å" required="" type="password"/>
</div>
<button class="btn" type="submit">
<i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                </button>
<div class="error-message" id="loginError"></div>
</form>
<form class="auth-form" id="registerForm">
<div class="form-group">
<label for="registerName">–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è</label>
<input id="registerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required="" type="text"/>
</div>
<div class="form-group">
<label for="registerEmail">Email</label>
<input id="registerEmail" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email" required="" type="email"/>
</div>
<div class="form-group">
<label for="registerPassword">–ü–∞—Ä–æ–ª—å</label>
<input id="registerPassword" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å" required="" type="password"/>
</div>
<div class="form-group">
<label for="registerAvatar">–ê–≤–∞—Ç–∞—Ä (URL)</label>
<input id="registerAvatar" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ" type="text"/>
</div>
<button class="btn" type="submit">
<i class="fas fa-user-plus"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </button>
<div class="error-message" id="registerError"></div>
</form>
<form class="auth-form verify-email-form" id="verifyEmailForm">
<div class="verify-card">
<div class="verify-title">
<div class="verify-title-main">
<i class="fas fa-shield-alt"></i>
<span>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email</span>
</div>
<p class="verify-title-sub">–û—Å—Ç–∞–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ kocmoc.</p>
</div>
<div class="verify-email-pill">
<i class="fas fa-envelope-open-text"></i>
<div class="verify-email-text-wrap">
<span class="verify-email-label">–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞</span>
<span class="verify-email-value" id="verifyEmailText"></span>
</div>
</div>
<p class="verify-text">
            –í–≤–µ–¥–∏—Ç–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–æ–¥ –∏–∑ –ø–∏—Å—å–º–∞, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç.
        </p>
<div class="form-group verify-code-group">
<label for="verifyCode">–ö–æ–¥ –∏–∑ –ø–∏—Å—å–º–∞</label>
<div class="verify-code-inputs" id="verifyCodeInputs">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="0" autocomplete="one-time-code">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="1">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="2">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="3">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="4">
  <input type="text" inputmode="numeric" maxlength="1" class="verify-code-digit" data-index="5">
</div>
<input type="hidden" id="verifyCode">
</div>
<button class="btn auth-submit-btn" type="submit">
<i class="fas fa-check"></i>
<span>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</span>
</button>
<button class="btn btn-secondary verify-resend-btn" id="resendCodeBtn" type="button">
<i class="fas fa-paper-plane"></i>
<span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –µ—â—ë —Ä–∞–∑</span>
</button>
<div class="verify-actions-hint">
<span>–ù–µ –ø—Ä–∏—à–ª–æ –ø–∏—Å—å–º–æ?</span>
<span class="verify-actions-hint-accent">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É ¬´–°–ø–∞–º¬ª –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –µ—â—ë —Ä–∞–∑.</span>
</div>
<div class="error-message" id="verifyError"></div>
</div>
</form>
</div>
</div>
<!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
<div class="container app-container" id="appContainer">
<!-- –ú–æ–±–∏–ª—å–Ω—ã–π —Ö–µ–¥–µ—Ä -->
<div class="mobile-header">
<div class="app-logo">
<i class="fas fa-comment-dots"></i>
<span>kocmoc</span>
</div>
<div class="mobile-header-actions">
<i class="fas fa-search mobile-header-btn" id="mobileSearchBtn"></i>
<i class="fas fa-ellipsis-v mobile-header-btn" id="mobileMenuBtn"></i>
</div>
</div><div class="mobile-section-title" id="mobileSectionTitle">–ß–∞—Ç—ã</div>
<!-- –°–∞–π–¥–±–∞—Ä -->
<div class="sidebar" id="sidebar">
<div class="sidebar-header">
<div class="app-logo">
<i class="fas fa-comment-dots"></i>
<span>kocmoc</span>
</div>
<div class="user-info">
<img class="user-avatar" id="userAvatar" src=""/>
<span id="userName"></span>
<button class="switch-account-btn" id="switchAccountBtn" title="–°–º–µ–Ω–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç">
<i class="fas fa-exchange-alt"></i>
</button>
<button class="logout-btn" id="logoutBtn">
<i class="fas fa-sign-out-alt"></i>
</button>
</div>
</div>
<div class="sidebar-search">
<div class="search-container">
<i class="fas fa-search"></i>
<input class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π..." type="text"/>
</div>
<div class="search-buttons">
<button class="refresh-chat-btn" id="refreshChatBtn">
<i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
<button class="new-chat-search-btn" id="newChatSearchBtn">
<i class="fas fa-edit"></i> –ù–æ–≤—ã–π —á–∞—Ç
                    </button>
</div>
</div>
<ul class="nav-list">
<li class="nav-item active" id="allChatsBtn">
<i class="fas fa-comments"></i>
<span>–í—Å–µ —á–∞—Ç—ã</span>
</li>
<li class="nav-item" id="contactsBtn">
<i class="fas fa-address-book"></i>
<span>–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
</li>
<li class="nav-item" id="groupsBtn">
<i class="fas fa-users"></i>
<span>–ì—Ä—É–ø–ø—ã</span>
</li>
<li class="nav-item" id="settingsBtn">
<i class="fas fa-cog"></i>
<span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
</li>
</ul>
<div class="chats-list" id="chatsList"></div>
</div>
<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="main-content">
<div class="chat-header">
<i class="fas fa-bars menu-toggle" id="menuToggle"></i>
<img class="current-chat-avatar" id="currentChatAvatar" src=""/>
<div class="current-chat-info">
<div class="current-chat-name" id="currentChatName">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
<div class="current-chat-status" id="currentChatStatus"></div>
</div>
<div class="chat-actions">
<i class="fas fa-phone-alt chat-action-btn" id="voiceCallBtn"></i>
<i class="fas fa-video chat-action-btn" id="videoCallBtn"></i>
<i class="fas fa-info-circle chat-action-btn" id="chatInfoBtn"></i>
</div>
</div>
<div class="messages-container" id="messagesContainer">
<div class="welcome-message">
<i class="fas fa-comment-dots"></i>
<h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ kocmoc!</h2>
<p>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</p>
</div>
</div>
<div class="message-input-container">
<i class="far fa-smile emoji-btn" id="emojiBtn"></i>
<i class="fas fa-paperclip attachment-btn" id="attachmentBtn"></i>
<input accept="*/*" id="fileInput" style="display: none;" type="file"/>
<div class="message-input-wrapper">
<textarea class="message-input" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
<div class="emoji-panel" id="emojiPanel"></div>
</div>
<i class="fas fa-microphone voice-message-btn" id="voiceMessageBtn"></i>
<i class="fas fa-paper-plane send-btn" id="sendMessageBtn"></i>
</div>
</div>
<!-- –ú–æ–±–∏–ª—å–Ω—ã–π —Ñ—É—Ç–µ—Ä -->
<div class="mobile-footer">
<div class="mobile-nav">
<div class="mobile-nav-item active" data-tab="chats">
<i class="fas fa-comments"></i>
<span>–ß–∞—Ç—ã</span>
</div>
<div class="mobile-nav-item" data-tab="contacts">
<i class="fas fa-address-book"></i>
<span>–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
</div>
<div class="mobile-nav-item" data-tab="groups">
<i class="fas fa-users"></i>
<span>–ì—Ä—É–ø–ø—ã</span>
</div>
<div class="mobile-nav-item" data-tab="profile">
<i class="fas fa-user"></i>
<span>–ü—Ä–æ—Ñ–∏–ª—å</span>
</div>
</div>
</div>
</div>
<!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div class="admin-container" id="adminContainer">
<div class="admin-header">
<div class="admin-logo">
<i class="fas fa-shield-alt"></i>
<span>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</span>
</div>
<div class="admin-user">
<img class="user-avatar" id="adminUserAvatar" src=""/>
<span id="adminUserName"></span>
<button class="logout-btn" id="adminLogoutBtn">
<i class="fas fa-sign-out-alt"></i>
</button>
</div>
</div>
<div class="admin-tabs">
<button class="admin-tab active" data-tab="statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
<button class="admin-tab" data-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
<button class="admin-tab" data-tab="messages">–°–æ–æ–±—â–µ–Ω–∏—è</button>
<button class="admin-tab" data-tab="devices">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</button>
</div>
<div class="admin-content">
<div class="admin-tab-content active" id="statisticsTab">
<h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
<div class="stats-grid">
<div class="stat-card">
<div class="stat-number" id="totalUsers">0</div>
<div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
</div>
<div class="stat-card">
<div class="stat-number" id="totalChats">0</div>
<div class="stat-label">–ß–∞—Ç–æ–≤</div>
</div>
<div class="stat-card">
<div class="stat-number" id="totalMessages">0</div>
<div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
</div>
<div class="stat-card">
<div class="stat-number" id="totalDevices">0</div>
<div class="stat-label">–£—Å—Ç—Ä–æ–π—Å—Ç–≤</div>
</div>
</div>
</div>
<div class="admin-tab-content" id="usersTab">
<h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
<div class="admin-table-container">
<table class="admin-table">
<thead>
<tr>
<th>ID</th>
<th>–ê–≤–∞—Ç–∞—Ä</th>
<th>–ò–º—è</th>
<th>Email</th>
<th>–°—Ç–∞—Ç—É—Å</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="usersTableBody"></tbody>
</table>
</div>
</div>
<div class="admin-tab-content" id="messagesTab">
<h2>–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h2>
<div class="admin-message-view" id="adminMessagesView"></div>
</div>
<div class="admin-tab-content" id="devicesTab">
<h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏</h2>
<div class="admin-table-container">
<table class="admin-table">
<thead>
<tr>
<th>ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</th>
<th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤</th>
<th>–°–æ–∑–¥–∞–Ω–æ</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="devicesTableBody"></tbody>
</table>
</div>
</div>
</div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
<div class="modal" id="newChatModal">
<div class="modal-content">
<div class="modal-header">
<div class="modal-title">–ù–æ–≤—ã–π —á–∞—Ç</div>
<div class="modal-close" id="closeNewChatModal">√ó</div>
</div>
<div class="modal-body">
<div class="form-group">
<label>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
<select class="form-control" id="userSelect"></select>
</div>
</div>
<div class="modal-footer">
<button class="btn" id="createChatBtn">–°–æ–∑–¥–∞—Ç—å —á–∞—Ç</button>
</div>
</div>
</div>
<div class="modal" id="createGroupModal">
<div class="modal-content">
<div class="modal-header">
<div class="modal-title">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</div>
<div class="modal-close" id="closeCreateGroupModal">√ó</div>
</div>
<div class="modal-body">
<div class="form-group">
<label>–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</label>
<input class="form-control" id="groupNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã" type="text"/>
</div>
<div class="form-group">
<label>–í—ã–±–µ—Ä–∏—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</label>
<select class="form-control" id="groupMembersSelect" multiple="" style="height: 150px;">
</select>
<small>–î–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ Ctrl (Cmd –Ω–∞ Mac)</small>
</div>
</div>
<div class="modal-footer">
<button class="btn" id="createGroupBtn">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</button>
</div>
</div>
</div>
<div class="modal" id="settingsModal">
<div class="modal-content">
<div class="modal-header">
<div class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
<div class="modal-close" id="closeSettingsModal">√ó</div>
</div>
<div class="modal-body">
<div class="form-group">
<label>–¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</label>
<select class="form-control" id="themeSelect">
<option value="default">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
<option value="dark">–¢–µ–º–Ω–∞—è</option>
<option value="light">–°–≤–µ—Ç–ª–∞—è</option>
</select>
</div>
<div class="form-group">
<label>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
<button class="btn" id="testMicrophoneBtn" type="button">
<i class="fas fa-microphone"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω
                    </button>
<small>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</small>
</div>
</div>
<div class="modal-footer">
<button class="btn" id="saveSettingsBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</div>
</div>
</div>
<div class="modal" id="accountSwitchModal">
<div class="modal-content">
<div class="modal-header">
<div class="modal-title">–í—ã–±–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞</div>
<div class="modal-close" id="closeAccountSwitchModal">√ó</div>
</div>
<div class="modal-body">
<div class="accounts-list" id="accountsList"></div>
</div>
<div class="modal-footer">
<button class="btn" id="addAccountBtn">–î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
</div>
</div>
</div>
<div class="feature-modal" id="featureModal">
<div class="feature-modal-content">
<div class="feature-modal-icon">üöß</div>
<h2 class="feature-modal-title">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h2>
<p class="feature-modal-text">–î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
<button class="feature-modal-close" id="closeFeatureModal">OK</button>
</div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤ -->
<div class="modal" id="fileModal">
<div class="modal-content file-modal-content">
<div class="modal-header">
<div class="modal-title" id="fileModalTitle">–§–∞–π–ª</div>
<div class="modal-close" id="closeFileModal">√ó</div>
</div>
<div class="modal-body file-modal-body" id="fileModalBody"></div>
</div>
</div>
<!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –≥–æ–ª–æ—Å–∞ -->
<div class="voice-recorder" id="voiceRecorder">
<div class="voice-recorder-content">
<div class="voice-recorder-icon">
<i class="fas fa-microphone"></i>
</div>
<div class="voice-recorder-timer">0:00</div>
<div class="voice-recorder-actions">
<button class="voice-recorder-cancel" id="voiceRecorderCancel">–û—Ç–º–µ–Ω–∞</button>
<button class="voice-recorder-send" id="voiceRecorderSend">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>
</div>
</div>
<script src="js/app.js"></script>
<script src="js/auth.js"></script>
<script src="js/chat.js"></script>
<script src="js/admin.js"></script>
</body>
</html>